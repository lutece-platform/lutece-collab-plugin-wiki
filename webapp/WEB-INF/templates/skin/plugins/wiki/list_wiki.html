<div class="row">
    <div class="col-12">
        <div class="container py-3">
            <div class="btn-group btn-group-sm mb-3">
                <a class="btn btn-outline-secondary" href="jsp/site/Portal.jsp?page=wiki&view=map" title="#i18n{wiki.menu.map}">
                    <span class="bi bi-list"></span> #i18n{wiki.menu.map}
                </a>
                <button class="btn btn-outline-secondary" id="btn-new-page" type="button" title="#i18n{wiki.menu.create}">
                   <span class="bi bi-plus-square"></span> #i18n{wiki.menu.create}
               </button>
                <button class="btn btn-outline-secondary" id="btn-search" type="button" title="#i18n{wiki.menu.search}">
                    <span class="bi bi-search"></span> #i18n{wiki.menu.search}
               </button>
                <#list languages_list as language>
                    <#if language = current_language >
                        <h5><span class="badge bg-info">${language}</span></h5>
                    <#else>
                        <a class="btn btn-outline-secondary" href="jsp/site/Portal.jsp?page=wiki&view=list&language=${language}">
                            ${language}
                        </a>
                    </#if>
                </#list>
            </div>

            <div id="div-new-page" class="d-none">
                <form class="form-search" action="jsp/site/Portal.jsp" method="post">
                    <input type="hidden" name="page" value="wiki" />
                    <input type="hidden" name="action" value="newPage" />
                    <div class="input-group">
                        <input class="form-control" id="input-new-page" type="text" name="page_name" />
                        <button class="btn btn-primary" type="submit">
                            <span class="bi bi-plus-square"></span> #i18n{wiki.list_wiki.create}
                        </button>
                    </div>
                </form>
            </div>

            <div id="div-search" class="d-none">
                <form class="form-search" action="jsp/site/Portal.jsp" method="post">
                    <input type="hidden" name="page" value="wiki" />
                    <input type="hidden" name="view" value="search" />
                    #i18n{wiki.search_wiki.search} :
                    <div class="input-group">
                        <input class="form-control" id="input-search" type="text" name="query" />
                        <button class="btn btn-primary" type="submit">
                            <span class="bi bi-search"></span>
                        </button>
                    </div>
                </form>
            </div>

            <h1>#i18n{wiki.list_wiki.title}</h1>
            <ul class="list-unstyled">
                <#list map_topic_title as page_name, page_title>
                <li>
                    <h5><a href="jsp/site/Portal.jsp?page=wiki&view=page&page_name=${page_name}">${page_title}</a></h5>
                </li>
                </#list>
            </ul>
        </div>
    </div>
</div>

<script type="text/javascript">
    window.onload = function() {
        document.getElementById("btn-new-page").addEventListener("click", function() {
            document.getElementById("div-search").classList.add("d-none");
            document.getElementById("div-new-page").classList.remove("d-none");
            document.getElementById("input-new-page").focus();
        });
        document.getElementById("btn-search").addEventListener("click", function() {
            document.getElementById("div-new-page").classList.add("d-none");
            document.getElementById("div-search").classList.remove("d-none");
            document.getElementById("input-search").focus();
        });
    };
</script>
